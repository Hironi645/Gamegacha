<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji Battle Gacha - Game Kartu Emoji Profesional</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Login/Register Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content auth-box">
            <div class="auth-tabs">
                <button class="tab-btn active" onclick="switchTab('login')">Login</button>
                <button class="tab-btn" onclick="switchTab('register')">Daftar</button>
            </div>
            
            <!-- Login Form -->
            <div id="loginForm" class="auth-form">
                <h2><i class="fas fa-gamepad"></i> Emoji Battle Gacha</h2>
                <p class="subtitle">Masuk untuk memulai petualangan!</p>
                <div class="input-group">
                    <i class="fas fa-user"></i>
                    <input type="text" id="loginUsername" placeholder="Username" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="loginPassword" placeholder="Password" required>
                </div>
                <button class="btn-primary" onclick="login()">
                    <i class="fas fa-sign-in-alt"></i> Masuk
                </button>
                <p class="error-msg" id="loginError"></p>
            </div>
            
            <!-- Register Form -->
            <div id="registerForm" class="auth-form hidden">
                <h2><i class="fas fa-user-plus"></i> Buat Akun Baru</h2>
                <p class="subtitle">Bergabung dan dapatkan kartu gratis!</p>
                <div class="input-group">
                    <i class="fas fa-user"></i>
                    <input type="text" id="regUsername" placeholder="Username" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="regEmail" placeholder="Email" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="regPassword" placeholder="Password" required>
                </div>
                <button class="btn-primary" onclick="register()">
                    <i class="fas fa-user-plus"></i> Daftar
                </button>
                <p class="error-msg" id="regError"></p>
                <p class="success-msg" id="regSuccess"></p>
            </div>
        </div>
    </div>

    <!-- Suspended/Banned Modal -->
    <div id="suspendedModal" class="modal hidden">
        <div class="modal-content auth-box">
            <div class="suspended-icon">üö´</div>
            <h2>Akun Tidak Dapat Diakses</h2>
            <p id="suspendedReason" class="subtitle">Akun kamu telah disuspend.</p>
            <button class="btn-primary" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i> Kembali ke Login
            </button>
        </div>
    </div>

    <!-- Main Game Interface -->
    <div id="gameInterface" class="hidden">
        <!-- Header -->
        <header class="game-header">
            <div class="logo">
                <i class="fas fa-dice"></i>
                <span>Emoji Battle Gacha</span>
            </div>
            <div class="user-info">
                <div class="currency">
                    <span class="coin"><i class="fas fa-coins"></i> <span id="userCoins">1000</span></span>
                    <span class="gem"><i class="fas fa-gem"></i> <span id="userGems">100</span></span>
                </div>
                <div class="notification-bell" onclick="showUserNotifications()">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="userNotifBadge">0</span>
                </div>
                <div class="user-menu">
                    <span id="welcomeUser">Player</span>
                    <button class="btn-logout" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="game-nav">
            <button class="nav-btn active" onclick="showSection('dashboard')">
                <i class="fas fa-home"></i> Beranda
            </button>
            <button class="nav-btn" onclick="showSection('gacha')">
                <i class="fas fa-dice"></i> Gacha
            </button>
            <button class="nav-btn" onclick="showSection('collection')">
                <i class="fas fa-layer-group"></i> Koleksi
            </button>
            <button class="nav-btn" onclick="showSection('battle')">
                <i class="fas fa-bolt"></i> Arena
            </button>
            <button class="nav-btn" onclick="showSection('pvp')">
                <i class="fas fa-users"></i> PvP
            </button>
            <button class="nav-btn" onclick="showSection('chat')">
                <i class="fas fa-comments"></i> Chat
            </button>
            <button class="nav-btn" onclick="showSection('topup')">
                <i class="fas fa-credit-card"></i> Top Up
            </button>
            <button class="nav-btn" onclick="showSection('shop')">
                <i class="fas fa-store"></i> Toko
            </button>
        </nav>

        <!-- Main Content -->
        <main class="game-main">
            <!-- Dashboard Section -->
            <section id="dashboard" class="game-section active">
                <div class="dashboard-hero">
                    <div class="hero-content">
                        <h1>Selamat Datang, <span id="heroUsername">Player</span>!</h1>
                        <p>Kumpulkan emoji langka dan jadilah juara arena!</p>
                        <div class="hero-stats">
                            <div class="stat-card">
                                <i class="fas fa-cards-blank"></i>
                                <span class="stat-value" id="totalCards">0</span>
                                <span class="stat-label">Kartu</span>
                            </div>
                            <div class="stat-card">
                                <i class="fas fa-trophy"></i>
                                <span class="stat-value" id="totalWins">0</span>
                                <span class="stat-label">Menang</span>
                            </div>
                            <div class="stat-card">
                                <i class="fas fa-fire"></i>
                                <span class="stat-value" id="winStreak">0</span>
                                <span class="stat-label">Streak</span>
                            </div>
                        </div>
                    </div>
                    <div class="hero-emoji">
                        <span class="floating-emoji">üé≤</span>
                    </div>
                </div>

                <div class="quick-actions">
                    <h3>Aksi Cepat</h3>
                    <div class="action-grid">
                        <button class="action-card" onclick="showSection('gacha')">
                            <i class="fas fa-dice"></i>
                            <span>Gacha Sekarang</span>
                        </button>
                        <button class="action-card" onclick="showSection('battle')">
                            <i class="fas fa-bolt"></i>
                            <span>Mulai Bertarung</span>
                        </button>
                        <button class="action-card" onclick="showSection('pvp')">
                            <i class="fas fa-users"></i>
                            <span>Tantang Pemain</span>
                        </button>
                        <button class="action-card" onclick="showSection('topup')">
                            <i class="fas fa-credit-card"></i>
                            <span>Top Up</span>
                        </button>
                    </div>
                </div>

                <div class="recent-activity">
                    <h3>Aktivitas Terbaru</h3>
                    <div id="activityList" class="activity-list">
                        <p class="no-activity">Belum ada aktivitas</p>
                    </div>
                </div>
            </section>

            <!-- Gacha Section -->
            <section id="gacha" class="game-section">
                <div class="gacha-container">
                    <h2><i class="fas fa-dice"></i> Gacha Emoji</h2>
                    <p class="section-desc">Dapatkan kartu emoji langka dan kuat!</p>
                    
                    <div class="gacha-machine">
                        <div class="machine-display">
                            <div id="gachaResult" class="gacha-result">
                                <span class="question-mark">?</span>
                            </div>
                        </div>
                        <div class="machine-base">
                            <div class="machine-lights">
                                <span class="light"></span>
                                <span class="light"></span>
                                <span class="light"></span>
                                <span class="light"></span>
                                <span class="light"></span>
                            </div>
                        </div>
                    </div>

                    <div class="gacha-options">
                        <div class="gacha-card">
                            <h3>Gacha Biasa</h3>
                            <div class="gacha-emoji-preview">üé≤</div>
                            <p class="gacha-desc">Dapatkan kartu common hingga rare</p>
                            <div class="gacha-cost">
                                <i class="fas fa-coins"></i> 100
                            </div>
                            <button class="btn-gacha" onclick="doGacha('normal')">
                                <i class="fas fa-dice"></i> Gacha
                            </button>
                        </div>
                        <div class="gacha-card premium">
                            <h3>Gacha Premium</h3>
                            <div class="gacha-emoji-preview">üíé</div>
                            <p class="gacha-desc">Dapatkan kartu rare hingga legendary</p>
                            <div class="gacha-cost">
                                <i class="fas fa-gem"></i> 50
                            </div>
                            <button class="btn-gacha premium-btn" onclick="doGacha('premium')">
                                <i class="fas fa-star"></i> Gacha
                            </button>
                        </div>
                        <div class="gacha-card legendary">
                            <h3>Gacha Legend</h3>
                            <div class="gacha-emoji-preview">üëë</div>
                            <p class="gacha-desc">Dapatkan kartu epic & legendary!</p>
                            <div class="gacha-cost">
                                <i class="fas fa-gem"></i> 150
                            </div>
                            <button class="btn-gacha legendary-btn" onclick="doGacha('legendary')">
                                <i class="fas fa-crown"></i> Gacha
                            </button>
                        </div>
                    </div>

                    <div class="rarity-info">
                        <h4>Tingkat Kelangkaan</h4>
                        <div class="rarity-list">
                            <span class="rarity common">Common ‚≠ê</span>
                            <span class="rarity uncommon">Uncommon ‚≠ê‚≠ê</span>
                            <span class="rarity rare">Rare ‚≠ê‚≠ê‚≠ê</span>
                            <span class="rarity epic">Epic ‚≠ê‚≠ê‚≠ê‚≠ê</span>
                            <span class="rarity legendary">Legendary ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Collection Section -->
            <section id="collection" class="game-section">
                <div class="collection-header">
                    <h2><i class="fas fa-layer-group"></i> Koleksi Kartu</h2>
                    <div class="collection-filters">
                        <button class="filter-btn active" onclick="filterCards('all')">Semua</button>
                        <button class="filter-btn" onclick="filterCards('common')">Common</button>
                        <button class="filter-btn" onclick="filterCards('uncommon')">Uncommon</button>
                        <button class="filter-btn" onclick="filterCards('rare')">Rare</button>
                        <button class="filter-btn" onclick="filterCards('epic')">Epic</button>
                        <button class="filter-btn" onclick="filterCards('legendary')">Legendary</button>
                    </div>
                </div>
                
                <div id="cardCollection" class="card-grid"></div>
                
                <div id="emptyCollection" class="empty-state">
                    <i class="fas fa-box-open"></i>
                    <p>Koleksi masih kosong. Ayo gacha sekarang!</p>
                    <button class="btn-primary" onclick="showSection('gacha')">
                        <i class="fas fa-dice"></i> Gacha Sekarang
                    </button>
                </div>
            </section>

            <!-- Battle Section (vs Bot) -->
            <section id="battle" class="game-section">
                <div class="battle-container">
                    <h2><i class="fas fa-robot"></i> Latihan vs Bot</h2>
                    <p class="section-desc">Latih skill bertarungmu melawan AI!</p>

                    <div id="battleArea" class="battle-area">
                        <div id="battleSetup" class="battle-setup">
                            <h3>Pilih Kartu untuk Bertarung</h3>
                            <div id="battleCardSelection" class="battle-card-selection"></div>
                            <button id="startBattleBtn" class="btn-battle" onclick="startBattle('bot')" disabled>
                                <i class="fas fa-play"></i> Mulai Bertarung
                            </button>
                        </div>

                        <div id="battleArena" class="battle-arena hidden">
                            <div class="battle-field">
                                <div class="fighter player-fighter">
                                    <div class="fighter-info">
                                        <span class="fighter-name" id="playerName">Player</span>
                                        <div class="hp-bar">
                                            <div class="hp-fill" id="playerHpBar"></div>
                                        </div>
                                        <span class="hp-text" id="playerHp">100/100</span>
                                    </div>
                                    <div class="fighter-emoji" id="playerEmoji">üé≤</div>
                                </div>

                                <div class="vs-indicator">
                                    <span class="vs-text">VS</span>
                                    <span class="vs-sub">BOT</span>
                                </div>

                                <div class="fighter enemy-fighter">
                                    <div class="fighter-info">
                                        <span class="fighter-name" id="enemyName">Enemy</span>
                                        <div class="hp-bar">
                                            <div class="hp-fill enemy-hp" id="enemyHpBar"></div>
                                        </div>
                                        <span class="hp-text" id="enemyHp">100/100</span>
                                    </div>
                                    <div class="fighter-emoji" id="enemyEmoji">üëπ</div>
                                </div>
                            </div>

                            <div class="battle-log" id="battleLog">
                                <p class="log-entry">Pertarungan dimulai!</p>
                            </div>

                            <div class="battle-actions">
                                <button class="btn-action attack" onclick="battleAction('attack')">
                                    <i class="fas fa-fist-raised"></i> Serang
                                </button>
                                <button class="btn-action defend" onclick="battleAction('defend')">
                                    <i class="fas fa-shield-alt"></i> Bertahan
                                </button>
                                <button class="btn-action special" onclick="battleAction('special')">
                                    <i class="fas fa-star"></i> Spesial
                                </button>
                            </div>
                        </div>

                        <div id="battleResult" class="battle-result hidden">
                            <div class="result-content">
                                <div class="result-emoji" id="resultEmoji">üèÜ</div>
                                <h3 id="resultTitle">Kemenangan!</h3>
                                <p id="resultMessage">Kamu menang!</p>
                                <div class="rewards" id="battleRewards">
                                    <span><i class="fas fa-coins"></i> +<span id="rewardCoins">50</span></span>
                                    <span><i class="fas fa-star"></i> +<span id="rewardExp">20</span> XP</span>
                                </div>
                                <button class="btn-primary" onclick="resetBattle()">
                                    <i class="fas fa-redo"></i> Bertarung Lagi
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PvP Section -->
            <section id="pvp" class="game-section">
                <div class="pvp-container">
                    <h2><i class="fas fa-users"></i> PvP Arena</h2>
                    <p class="section-desc">Tantang pemain lain dan buktikan kekuatanmu!</p>

                    <div id="pvpLobby" class="pvp-lobby">
                        <div class="pvp-stats">
                            <div class="pvp-stat">
                                <span class="pvp-stat-value" id="pvpRank">-</span>
                                <span class="pvp-stat-label">Peringkat</span>
                            </div>
                            <div class="pvp-stat">
                                <span class="pvp-stat-value" id="pvpWins">0</span>
                                <span class="pvp-stat-label">Menang PvP</span>
                            </div>
                            <div class="pvp-stat">
                                <span class="pvp-stat-value" id="pvpPoints">0</span>
                                <span class="pvp-stat-label">Poin PvP</span>
                            </div>
                        </div>

                        <div class="online-players">
                            <h3><i class="fas fa-circle" style="color: #10b981;"></i> Pemain Online</h3>
                            <div id="onlinePlayersList" class="online-players-list">
                                <p class="no-players">Memuat daftar pemain...</p>
                            </div>
                        </div>

                        <div class="pvp-matchmaking">
                            <h3>Matchmaking Cepat</h3>
                            <p>Cari lawan yang cocok dengan levelmu</p>
                            <button class="btn-battle large" onclick="findMatch()">
                                <i class="fas fa-search"></i> Cari Lawan
                            </button>
                        </div>
                    </div>

                    <div id="pvpBattle" class="pvp-battle hidden">
                        <div class="battle-field">
                            <div class="fighter player-fighter">
                                <div class="fighter-info">
                                    <span class="fighter-name" id="pvpPlayerName">Player</span>
                                    <div class="hp-bar">
                                        <div class="hp-fill" id="pvpPlayerHpBar"></div>
                                    </div>
                                    <span class="hp-text" id="pvpPlayerHp">100/100</span>
                                </div>
                                <div class="fighter-emoji" id="pvpPlayerEmoji">üé≤</div>
                            </div>

                            <div class="vs-indicator">
                                <span class="vs-text">VS</span>
                                <span class="vs-sub">PvP</span>
                            </div>

                            <div class="fighter enemy-fighter">
                                <div class="fighter-info">
                                    <span class="fighter-name" id="pvpEnemyName">Enemy</span>
                                    <div class="hp-bar">
                                        <div class="hp-fill enemy-hp" id="pvpEnemyHpBar"></div>
                                    </div>
                                    <span class="hp-text" id="pvpEnemyHp">100/100</span>
                                </div>
                                <div class="fighter-emoji" id="pvpEnemyEmoji">üëπ</div>
                            </div>
                        </div>

                        <div class="battle-log" id="pvpBattleLog">
                            <p class="log-entry">Pertarungan PvP dimulai!</p>
                        </div>

                        <div class="battle-actions">
                            <button class="btn-action attack" onclick="pvpAction('attack')">
                                <i class="fas fa-fist-raised"></i> Serang
                            </button>
                            <button class="btn-action defend" onclick="pvpAction('defend')">
                                <i class="fas fa-shield-alt"></i> Bertahan
                            </button>
                            <button class="btn-action special" onclick="pvpAction('special')">
                                <i class="fas fa-star"></i> Spesial
                            </button>
                        </div>
                    </div>

                    <div id="pvpResult" class="battle-result hidden">
                        <div class="result-content">
                            <div class="result-emoji" id="pvpResultEmoji">üèÜ</div>
                            <h3 id="pvpResultTitle">Kemenangan!</h3>
                            <p id="pvpResultMessage">Kamu menang!</p>
                            <div class="rewards" id="pvpRewards">
                                <span><i class="fas fa-coins"></i> +<span id="pvpRewardCoins">100</span></span>
                                <span><i class="fas fa-trophy"></i> +<span id="pvpRewardPoints">10</span> Poin</span>
                            </div>
                            <button class="btn-primary" onclick="resetPvP()">
                                <i class="fas fa-redo"></i> Cari Lawan Lagi
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Chat Section -->
            <section id="chat" class="game-section">
                <div class="chat-container">
                    <h2><i class="fas fa-comments"></i> Chat Global</h2>
                    <p class="section-desc">Ngobrol dengan pemain lain!</p>

                    <div class="chat-box">
                        <div id="chatMessages" class="chat-messages">
                            <div class="chat-welcome">
                                <i class="fas fa-comments"></i>
                                <p>Selamat datang di chat global!</p>
                                <p class="chat-rules">Jaga sopan santun dan jangan spam ya! üéÆ</p>
                            </div>
                        </div>
                        <div class="chat-input-area">
                            <input type="text" id="chatInput" placeholder="Ketik pesan..." maxlength="200" onkeypress="if(event.key==='Enter')sendChat()">
                            <button class="btn-send" onclick="sendChat()">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Top Up Section -->
            <section id="topup" class="game-section">
                <div class="topup-container">
                    <h2><i class="fas fa-credit-card"></i> Top Up</h2>
                    <p class="section-desc">Isi ulang koin dan gem untuk gacha lebih banyak!</p>

                    <div class="topup-packages">
                        <div class="topup-package">
                            <div class="package-icon">ü™ô</div>
                            <h3>1.000 Koin</h3>
                            <p class="package-price">Rp 10.000</p>
                            <ul class="package-benefits">
                                <li>10x Gacha Normal</li>
                                <li>Bonus 100 Koin</li>
                            </ul>
                            <button class="btn-topup" onclick="requestTopup('coins', 1000, 10000)">
                                <i class="fas fa-shopping-cart"></i> Beli
                            </button>
                        </div>

                        <div class="topup-package">
                            <div class="package-icon">ü™ô</div>
                            <h3>5.000 Koin</h3>
                            <p class="package-price">Rp 45.000</p>
                            <ul class="package-benefits">
                                <li>50x Gacha Normal</li>
                                <li>Bonus 1.000 Koin</li>
                                <li>Hemat Rp 5.000</li>
                            </ul>
                            <button class="btn-topup" onclick="requestTopup('coins', 5000, 45000)">
                                <i class="fas fa-shopping-cart"></i> Beli
                            </button>
                        </div>

                        <div class="topup-package popular">
                            <div class="popular-badge">POPULER</div>
                            <div class="package-icon">üíé</div>
                            <h3>100 Gem</h3>
                            <p class="package-price">Rp 50.000</p>
                            <ul class="package-benefits">
                                <li>2x Gacha Premium</li>
                                <li>Bonus 10 Gem</li>
                            </ul>
                            <button class="btn-topup" onclick="requestTopup('gems', 100, 50000)">
                                <i class="fas fa-shopping-cart"></i> Beli
                            </button>
                        </div>

                        <div class="topup-package">
                            <div class="package-icon">üíé</div>
                            <h3>500 Gem</h3>
                            <p class="package-price">Rp 225.000</p>
                            <ul class="package-benefits">
                                <li>10x Gacha Premium</li>
                                <li>Bonus 100 Gem</li>
                                <li>Hemat Rp 25.000</li>
                            </ul>
                            <button class="btn-topup" onclick="requestTopup('gems', 500, 225000)">
                                <i class="fas fa-shopping-cart"></i> Beli
                            </button>
                        </div>

                        <div class="topup-package legendary">
                            <div class="package-icon">üëë</div>
                            <h3>Paket Sultan</h3>
                            <p class="package-price">Rp 500.000</p>
                            <ul class="package-benefits">
                                <li>5.000 Koin</li>
                                <li>1.000 Gem</li>
                                <li>1x Legendary Gacha</li>
                            </ul>
                            <button class="btn-topup legendary-btn" onclick="requestTopup('package', 'sultan', 500000)">
                                <i class="fas fa-crown"></i> Beli
                            </button>
                        </div>
                    </div>

                    <div class="topup-history">
                        <h3><i class="fas fa-history"></i> Riwayat Top Up</h3>
                        <div id="topupHistoryList" class="topup-history-list">
                            <p class="no-history">Belum ada riwayat top up</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Shop Section -->
            <section id="shop" class="game-section">
                <div class="shop-container">
                    <h2><i class="fas fa-store"></i> Toko</h2>
                    <p class="section-desc">Beli koin dan gem untuk gacha lebih banyak!</p>

                    <div class="shop-grid">
                        <div class="shop-item">
                            <div class="item-icon"><i class="fas fa-coins"></i></div>
                            <h3>500 Koin</h3>
                            <p>Cukup untuk 5x gacha</p>
                            <div class="item-price">
                                <i class="fas fa-gem"></i> 25
                            </div>
                            <button class="btn-buy" onclick="buyItem('coins', 500, 25)">
                                <i class="fas fa-shopping-cart"></i> Beli
                            </button>
                        </div>
                        <div class="shop-item">
                            <div class="item-icon"><i class="fas fa-coins"></i></div>
                            <h3>1000 Koin</h3>
                            <p>Cukup untuk 10x gacha</p>
                            <div class="item-price">
                                <i class="fas fa-gem"></i> 45
                            </div>
                            <button class="btn-buy" onclick="buyItem('coins', 1000, 45)">
                                <i class="fas fa-shopping-cart"></i> Beli
                            </button>
                        </div>
                        <div class="shop-item">
                            <div class="item-icon"><i class="fas fa-gem"></i></div>
                            <h3>100 Gem</h3>
                            <p>Untuk gacha premium</p>
                            <div class="item-price">
                                <i class="fas fa-coins"></i> 500
                            </div>
                            <button class="btn-buy" onclick="buyItem('gems', 100, 500)">
                                <i class="fas fa-shopping-cart"></i> Beli
                            </button>
                        </div>
                        <div class="shop-item special">
                            <div class="item-icon"><i class="fas fa-star"></i></div>
                            <h3>Paket Pemula</h3>
                            <p>500 koin + 50 gem</p>
                            <div class="item-price">GRATIS</div>
                            <button class="btn-buy free" onclick="claimStarterPack()">
                                <i class="fas fa-gift"></i> Klaim
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- User Notifications Modal -->
    <div id="userNotificationsModal" class="modal hidden">
        <div class="modal-content notifications-panel">
            <div class="notifications-header">
                <h3><i class="fas fa-bell"></i> Notifikasi</h3>
                <button class="btn-close" onclick="closeUserNotifications()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="userNotificationsList" class="notifications-list"></div>
        </div>
    </div>

    <!-- Top Up Confirmation Modal -->
    <div id="topupConfirmModal" class="modal hidden">
        <div class="modal-content topup-confirm">
            <h3><i class="fas fa-credit-card"></i> Konfirmasi Top Up</h3>
            <div class="topup-details">
                <p><strong>Jenis:</strong> <span id="confirmTopupType">-</span></p>
                <p><strong>Jumlah:</strong> <span id="confirmTopupAmount">-</span></p>
                <p><strong>Harga:</strong> <span id="confirmTopupPrice">-</span></p>
            </div>
            <div class="payment-info">
                <p class="payment-note">Silakan transfer ke:</p>
                <div class="bank-info">
                    <p><i class="fas fa-university"></i> Bank BCA</p>
                    <p class="account-number">123-456-7890</p>
                    <p a/n="Emoji Battle Gacha"></p>
                </div>
                <p class="payment-instruction">Setelah transfer, klik "Konfirmasi" dan admin akan memproses permintaanmu.</p>
            </div>
            <div class="modal-actions">
                <button class="btn-secondary" onclick="closeTopupConfirm()">Batal</button>
                <button class="btn-primary" onclick="confirmTopupRequest()">
                    <i class="fas fa-check"></i> Konfirmasi
                </button>
            </div>
        </div>
    </div>

    <!-- Card Detail Modal -->
    <div id="cardModal" class="modal hidden">
        <div class="modal-content card-detail">
            <button class="btn-close" onclick="closeCardModal()">
                <i class="fas fa-times"></i>
            </button>
            <div id="cardDetailContent"></div>
        </div>
    </div>

    <!-- Gacha Result Modal -->
    <div id="gachaModal" class="modal hidden">
        <div class="modal-content gacha-reveal">
            <div id="gachaRevealContent"></div>
        </div>
    </div>

    <script src="script.js"></script>

    <!-- Edit Profile Modal -->
    <div id="editProfileModal" class="modal hidden">
        <div class="modal-content profile-edit">
            <h3><i class="fas fa-user-edit"></i> Edit Profil</h3>

            <div class="form-group">
                <label>Username Baru</label>
                <input type="text" id="editProfileUsername" placeholder="Masukkan username baru...">
                <small class="form-hint">Minimal 3 karakter</small>
            </div>

            <div class="form-group">
                <label>Email Baru</label>
                <input type="email" id="editProfileEmail" placeholder="Masukkan email baru...">
            </div>

            <div class="vip-info-display" id="vipInfoDisplay">
                <div class="vip-badge-large" id="profileVipBadge">
                    <i class="fas fa-crown"></i>
                    <span id="profileVipName">Non-VIP</span>
                </div>
            </div>

            <div class="pass-info-display" id="passInfoDisplay">
                <div class="pass-badge-large" id="profilePassBadge">
                    <i class="fas fa-ticket-alt"></i>
                    <span id="profilePassName">Tidak Ada Pass</span>
                </div>
            </div>

            <div class="modal-actions">
                <button class="btn-secondary" onclick="closeEditProfileModal()">Batal</button>
                <button class="btn-primary" onclick="saveProfileEdit()">
                    <i class="fas fa-save"></i> Simpan Perubahan
                </button>
            </div>
        </div>
    </div>

    <!-- VIP Benefits Modal -->
    <div id="vipBenefitsModal" class="modal hidden">
        <div class="modal-content vip-benefits">
            <h3><i class="fas fa-crown"></i> Keuntungan VIP</h3>

            <div class="vip-tiers">
                <div class="vip-tier vip-bronze">
                    <div class="tier-header">
                        <i class="fas fa-crown"></i>
                        <span>VIP Bronze</span>
                    </div>
                    <ul class="tier-benefits">
                        <li><i class="fas fa-check"></i> Bonus koin +10%</li>
                        <li><i class="fas fa-check"></i> XP bonus +10%</li>
                        <li><i class="fas fa-check"></i> Badge eksklusif</li>
                    </ul>
                </div>

                <div class="vip-tier vip-silver">
                    <div class="tier-header">
                        <i class="fas fa-crown"></i>
                        <span>VIP Silver</span>
                    </div>
                    <ul class="tier-benefits">
                        <li><i class="fas fa-check"></i> Bonus koin +20%</li>
                        <li><i class="fas fa-check"></i> XP bonus +20%</li>
                        <li><i class="fas fa-check"></i> Badge eksklusif</li>
                        <li><i class="fas fa-check"></i> Daily reward 2x</li>
                    </ul>
                </div>

                <div class="vip-tier vip-gold">
                    <div class="tier-header">
                        <i class="fas fa-crown"></i>
                        <span>VIP Gold</span>
                    </div>
                    <ul class="tier-benefits">
                        <li><i class="fas fa-check"></i> Bonus koin +35%</li>
                        <li><i class="fas fa-check"></i> XP bonus +35%</li>
                        <li><i class="fas fa-check"></i> Badge eksklusif</li>
                        <li><i class="fas fa-check"></i> Daily reward 3x</li>
                        <li><i class="fas fa-check"></i> Rate gacha +5%</li>
                    </ul>
                </div>

                <div class="vip-tier vip-platinum">
                    <div class="tier-header">
                        <i class="fas fa-crown"></i>
                        <span>VIP Platinum</span>
                    </div>
                    <ul class="tier-benefits">
                        <li><i class="fas fa-check"></i> Bonus koin +50%</li>
                        <li><i class="fas fa-check"></i> XP bonus +50%</li>
                        <li><i class="fas fa-check"></i> Badge eksklusif</li>
                        <li><i class="fas fa-check"></i> Daily reward 4x</li>
                        <li><i class="fas fa-check"></i> Rate gacha +10%</li>
                    </ul>
                </div>

                <div class="vip-tier vip-diamond">
                    <div class="tier-header">
                        <i class="fas fa-crown"></i>
                        <span>VIP Diamond</span>
                    </div>
                    <ul class="tier-benefits">
                        <li><i class="fas fa-check"></i> Bonus koin +75%</li>
                        <li><i class="fas fa-check"></i> XP bonus +75%</li>
                        <li><i class="fas fa-check"></i> Badge eksklusif</li>
                        <li><i class="fas fa-check"></i> Daily reward 5x</li>
                        <li><i class="fas fa-check"></i> Rate gacha +15%</li>
                        <li><i class="fas fa-check"></i> Kartu eksklusif</li>
                    </ul>
                </div>
            </div>

            <div class="modal-actions">
                <button class="btn-secondary" onclick="closeVipBenefitsModal()">Tutup</button>
            </div>
        </div>
    </div>

</body>
</html>
